---
- nv-current: &nv-current
    name: nv-current
    current:
        csit-list: >
            netvirt-csit-1node-{os-std-topo}-openstack-{os-branch}-upstream-stateful-{stream}
- nv-current2: &nv-current2
    name: nv-current
    current2:
        csit-list: >
            netvirt-csit-1node-{os-std-topo}-openstack-{os-branch}-gate-stateful-{stream}

- netvirt_patch_test_features: &netvirt_patch_test_features
    name: netvirt_patch_test_features
    <<: *nv-current
    <<: *nv-current2

- nv-features: &nv-features
    name: nv-features
    current:
        csit-list: >
            netvirt-csit-1node-{os-std-topo}-openstack-{os-branch}-upstream-stateful-{stream}
    current2:
        csit-list: >
            netvirt-csit-1node-{os-std-topo}-openstack-{os-branch}-gate-stateful-{stream}

- project:
    name: netvirt-patch-test
    jobs:
      - inttest-patch-test

    project: 'netvirt'

    stream:
      - fluorine:
          branch: 'master'
          os-branch: 'queens'
      - oxygen:
          branch: 'stable/oxygen'
          os-branch: 'queens'

    jdk: 'openjdk8'

    feature:
      - snat-conntrack:
          csit-list: >
              netvirt-csit-1node-{os-std-topo}-openstack-{os-branch}-gate-stateful-snat-conntrack-{stream}
      - <<: *nv-features
