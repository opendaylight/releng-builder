---
- project:
    name: netvirt-csit-hwvtep-openstack-integration-aluminium
    jobs:
      - inttest-csit-hwvtep-openstack-custom

    project: 'netvirt'
    stream: 'aluminium'
    branch: 'master'
    jre: 'openjdk11'
    testplan: '{project}-{topology}-l2gw-openstack.txt'
    odl-ml2-driver-version: 'v2'
    enable-openstack-services: 'placement-api,l2gw-plugin'
    enable-openstack-compute-services: 'placement-client'
    security-group-mode: 'stateful'
    odl_system_flavor: odl-highcpu-8
    openstack_system_flavor: odl-highcpu-8
    openstack_system2_flavor: odl-highcpu-4
    tools_system_count: 2
    tools_system_image: ZZCI - Ubuntu 16.04 - mininet-ovs-26 - x86_64 - 20200301-180129.436
    os-cmb-cnt: 0
    os-ctl-cnt: 1
    os-cmp-cnt: 2

    # TODO: remove this flag and instead use the enable-openstack-services list to know if l2gw is enabled
    enable-networking-l2gw: 'yes'

    topology:
      - 1node:
          openstack_system2_count: 2
          odl_system_count: 1
          enable-haproxy: 'no'
          install-features: 'odl-netvirt-openstack'
      - 3node:
          openstack_system2_count: 3
          odl_system_count: 3
          enable-haproxy: 'yes'
          install-features: 'odl-jolokia,odl-netvirt-openstack'

    functionality:
      - upstream-stateful
      - gate-stateful

    openstack:
      - queens:
          openstack-branch: 'stable/queens'
          odl-ml2-branch: 'stable/queens'
          odl-ml2-port-binding: 'pseudo-agentdb-binding'
          openstack_system_image: '{openstack_queens_system_image}'
          openstack_system2_image: '{openstack_queens_system_image}'

- project:
    name: netvirt-csit-hwvtep-openstack-integration-magnesium
    jobs:
      - inttest-csit-hwvtep-openstack-custom

    project: 'netvirt'
    stream: 'magnesium'
    branch: 'stable/magnesium'
    jre: 'openjdk11'
    testplan: '{project}-{topology}-l2gw-openstack.txt'
    odl-ml2-driver-version: 'v2'
    enable-openstack-services: 'placement-api,l2gw-plugin'
    enable-openstack-compute-services: 'placement-client'
    security-group-mode: 'stateful'
    odl_system_flavor: odl-highcpu-8
    openstack_system_flavor: odl-highcpu-8
    openstack_system2_flavor: odl-highcpu-4
    tools_system_count: 2
    tools_system_image: ZZCI - Ubuntu 16.04 - mininet-ovs-26 - x86_64 - 20200301-180129.436
    os-cmb-cnt: 0
    os-ctl-cnt: 1
    os-cmp-cnt: 2

    # TODO: remove this flag and instead use the enable-openstack-services list to know if l2gw is enabled
    enable-networking-l2gw: 'yes'

    topology:
      - 1node:
          openstack_system2_count: 2
          odl_system_count: 1
          enable-haproxy: 'no'
          install-features: 'odl-netvirt-openstack'
      - 3node:
          openstack_system2_count: 3
          odl_system_count: 3
          enable-haproxy: 'yes'
          install-features: 'odl-jolokia,odl-netvirt-openstack'

    functionality:
      - upstream-stateful
      - gate-stateful

    openstack:
      - queens:
          openstack-branch: 'stable/queens'
          odl-ml2-branch: 'stable/queens'
          odl-ml2-port-binding: 'pseudo-agentdb-binding'
          openstack_system_image: '{openstack_queens_system_image}'
          openstack_system2_image: '{openstack_queens_system_image}'

- project:
    name: netvirt-csit-hwvtep-openstack-integration-sodium
    jobs:
      - inttest-csit-hwvtep-openstack-custom

    project: 'netvirt'
    stream: 'sodium'
    branch: 'stable/sodium'
    testplan: '{project}-{topology}-l2gw-openstack.txt'
    odl-ml2-driver-version: 'v2'
    enable-openstack-services: 'placement-api,l2gw-plugin'
    enable-openstack-compute-services: 'placement-client'
    security-group-mode: 'stateful'
    odl_system_flavor: odl-highcpu-8
    openstack_system_flavor: odl-highcpu-8
    openstack_system2_flavor: odl-highcpu-4
    tools_system_count: 2
    tools_system_image: ZZCI - Ubuntu 16.04 - mininet-ovs-26 - x86_64 - 20200301-180129.436
    os-cmb-cnt: 0
    os-ctl-cnt: 1
    os-cmp-cnt: 2

    # TODO: remove this flag and instead use the enable-openstack-services list to know if l2gw is enabled
    enable-networking-l2gw: 'yes'

    topology:
      - 1node:
          openstack_system2_count: 2
          odl_system_count: 1
          enable-haproxy: 'no'
          install-features: 'odl-netvirt-openstack'
      - 3node:
          openstack_system2_count: 3
          odl_system_count: 3
          enable-haproxy: 'yes'
          install-features: 'odl-jolokia,odl-netvirt-openstack'

    functionality:
      - upstream-stateful
      - gate-stateful

    openstack:
      - queens:
          openstack-branch: 'stable/queens'
          odl-ml2-branch: 'stable/queens'
          odl-ml2-port-binding: 'pseudo-agentdb-binding'
          openstack_system_image: '{openstack_queens_system_image}'
          openstack_system2_image: '{openstack_queens_system_image}'

- project:
    name: netvirt-csit-hwvtep-openstack-integration-neon
    jobs:
      - inttest-csit-hwvtep-openstack-custom

    project: 'netvirt'
    stream: 'neon'
    branch: 'stable/neon'
    testplan: '{project}-{topology}-l2gw-openstack.txt'
    odl-ml2-driver-version: 'v2'
    enable-openstack-services: 'placement-api,l2gw-plugin'
    enable-openstack-compute-services: 'placement-client'
    security-group-mode: 'stateful'
    odl_system_flavor: odl-highcpu-8
    openstack_system_flavor: odl-highcpu-8
    openstack_system2_flavor: odl-highcpu-4
    tools_system_count: 2
    tools_system_image: ZZCI - Ubuntu 16.04 - mininet-ovs-26 - x86_64 - 20200301-180129.436
    os-cmb-cnt: 0
    os-ctl-cnt: 1
    os-cmp-cnt: 2

    # TODO: remove this flag and instead use the enable-openstack-services list to know if l2gw is enabled
    enable-networking-l2gw: 'yes'

    topology:
      - 1node:
          openstack_system2_count: 2
          odl_system_count: 1
          enable-haproxy: 'no'
          install-features: 'odl-netvirt-openstack'
      - 3node:
          openstack_system2_count: 3
          odl_system_count: 3
          enable-haproxy: 'yes'
          install-features: 'odl-jolokia,odl-netvirt-openstack'

    functionality:
      - upstream-stateful
      - gate-stateful

    openstack:
      - queens:
          openstack-branch: 'stable/queens'
          odl-ml2-branch: 'stable/queens'
          odl-ml2-port-binding: 'pseudo-agentdb-binding'
          openstack_system_image: '{openstack_queens_system_image}'
          openstack_system2_image: '{openstack_queens_system_image}'
