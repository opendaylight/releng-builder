---
- project:
    name: distribution
    jobs:
      # gerrit- is generic template, distribution- is project specific.
      - 'distribution-merge-{stream}'
      - 'distribution-verify-{stream}'
      - 'distribution-deploy-{stream}'
      - 'distribution-offline-{stream}'
      - 'distribution-check-{stream}'
      - gerrit-maven-clm
      - gerrit-maven-verify-dependencies
      - gerrit-tox-verify

    project: integration/distribution
    project-name: distribution
    mvn-settings: integration-distribution-settings
    mvn-goals: 'clean install dependency:tree -DoutputFile=dependency_tree.txt'
    mvn-opts: '-Xmx1024m -XX:MaxPermSize=256m'
    dependencies: ''
    email-upstream: '[int/dist]'

    stream:
      - fluorine:
          branch: 'master'
      - oxygen:
          branch: 'stable/oxygen'
      - nitrogen:
          branch: 'stable/nitrogen'
      - carbon:
          branch: 'stable/carbon'
          karaf-version: karaf3

- project:
    name: distribution-sonar
    jobs:
      - gerrit-maven-sonar
    project: integration/distribution
    project-name: distribution
    branch: master
    mvn-settings: integration-distribution-settings
    mvn-goals: clean install dependency:tree -DoutputFile=dependency_tree.txt
    mvn-opts: '-Xmx1024m -XX:MaxPermSize=256m'
