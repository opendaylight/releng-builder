---
- project:
    name: distribution
    jobs:
      # gerrit- is generic template, distribution- is project specific.
      - 'distribution-merge-{stream}'
      - 'distribution-verify-{stream}'
      - 'distribution-check-{stream}'
      - gerrit-maven-clm
      - gerrit-maven-verify-dependencies
      - gerrit-tox-verify
      - '{project-name}-rtd-jobs':
          project-pattern: integration/distribution
          rtd-build-url: https://readthedocs.org/api/v2/webhook/opendaylight-distribution/34591/
          rtd-token: 6247e7a21158a20b207470b8bf7719c676ff8944

    project: integration/distribution
    project-name: distribution
    mvn-settings: integration-distribution-settings
    mvn-goals: 'clean install dependency:tree -DoutputFile=dependency_tree.txt'
    mvn-opts: '-Xmx1024m -XX:MaxPermSize=256m'
    dependencies: ''
    email-upstream: '[int/dist]'

    stream:
      - fluorine:
          branch: 'master'
          karaf-version: odl
          repo-url: '{sm-repos}'
          install-features: '{sm-features}'
      - oxygen:
          branch: 'stable/oxygen'
      - nitrogen:
          branch: 'stable/nitrogen'
      - carbon:
          branch: 'stable/carbon'
          karaf-version: karaf3

- project:
    name: distribution-sanity
    jobs:
      - 'distribution-sanity-{stream}'

    project: integration/distribution
    project-name: distribution
    email-upstream: '[int/dist]'

    stream:
      - fluorine:
          branch: 'master'
          karaf-version: odl
          repo-url: '{sm-repos}'
          install-features: '{sm-features}'
      - oxygen:
          branch: 'stable/oxygen'
          karaf-version: karaf4
      - nitrogen:
          branch: 'stable/nitrogen'
          karaf-version: karaf4
      - carbon:
          branch: 'stable/carbon'
          karaf-version: karaf3

- project:
    name: distribution-sonar
    jobs:
      - gerrit-maven-sonar

    project: integration/distribution
    project-name: distribution
    branch: master
    mvn-settings: integration-distribution-settings
    mvn-goals: clean install dependency:tree -DoutputFile=dependency_tree.txt
    mvn-opts: '-Xmx1024m -XX:MaxPermSize=256m'
