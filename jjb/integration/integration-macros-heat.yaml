---
################
# Stack 2 Type #
################

# The parameter and builder macros are meant to be used together. Job templates
# that want to use the Stack 2 Type must declare both the parameter and builder
# component.

- parameter:
    name: integration-stack-2-type
    parameters:
      - string:
          name: VM_0_COUNT
          default: '{vm_0_count}'
          description: 'Number of systems to spawn for vm 0'
      - string:
          name: VM_0_FLAVOR
          default: '{vm_0_flavor}'
          description: 'VM flavor to use for vm 0'
      - string:
          name: VM_0_IMAGE
          default: '{vm_0_image}'
          description: 'VM image to use for vm 0'
      - string:
          name: VM_1_COUNT
          default: '{vm_1_count}'
          description: 'Number of systems to spawn for vm 1'
      - string:
          name: VM_1_FLAVOR
          default: '{vm_1_flavor}'
          description: 'VM flavor to use for vm 1'
      - string:
          name: VM_1_IMAGE
          default: '{vm_1_image}'
          description: 'VM image to use for vm 1'

- builder:
    name: integration-stack-2-type
    builders:
      - lf-stack-create:
          openstack-cloud: '{openstack-cloud}'
          openstack-heat-template: '{openstack-heat-template}'
          openstack-heat-template-dir: '{openstack-heat-template-dir}'
          openstack-heat-parameters: |
              vm_0_count: '$VM_0_COUNT'
              vm_0_flavor: '$VM_0_FLAVOR'
              vm_0_image: '$VM_0_IMAGE'
              vm_1_count: '$VM_1_COUNT'
              vm_1_flavor: '$VM_1_FLAVOR'
              vm_1_image: '$VM_1_IMAGE'

################
# Stack 4 Type #
################

# The parameter and builder macros are meant to be used together. Job templates
# that want to use the Stack 4 Type must declare both the parameter and builder
# component.

- parameter:
    name: integration-stack-4-type
    parameters:
      - string:
          name: VM_0_COUNT
          default: '{vm_0_count}'
          description: 'Number of systems to spawn for vm 0'
      - string:
          name: VM_0_FLAVOR
          default: '{vm_0_flavor}'
          description: 'VM flavor to use for vm 0'
      - string:
          name: VM_0_IMAGE
          default: '{vm_0_image}'
          description: 'VM image to use for vm 0'
      - string:
          name: VM_1_COUNT
          default: '{vm_1_count}'
          description: 'Number of systems to spawn for vm 1'
      - string:
          name: VM_1_FLAVOR
          default: '{vm_1_flavor}'
          description: 'VM flavor to use for vm 1'
      - string:
          name: VM_1_IMAGE
          default: '{vm_1_image}'
          description: 'VM image to use for vm 1'
      - string:
          name: VM_2_COUNT
          default: '{vm_2_count}'
          description: 'Number of systems to spawn for vm 2'
      - string:
          name: VM_2_FLAVOR
          default: '{vm_2_flavor}'
          description: 'VM flavor to use for vm 2'
      - string:
          name: VM_2_IMAGE
          default: '{vm_2_image}'
          description: 'VM image to use for vm 2'
      - string:
          name: VM_3_COUNT
          default: '{vm_3_count}'
          description: 'Number of systems to spawn for vm 3'
      - string:
          name: VM_3_FLAVOR
          default: '{vm_3_flavor}'
          description: 'VM flavor to use for vm 3'
      - string:
          name: VM_3_IMAGE
          default: '{vm_3_image}'
          description: 'VM image to use for vm 3'


- builder:
    name: integration-stack-4-type
    builders:
      - lf-stack-create:
          openstack-cloud: '{openstack-cloud}'
          openstack-heat-template: '{openstack-heat-template}'
          openstack-heat-template-dir: '{openstack-heat-template-dir}'
          openstack-heat-parameters: |
              vm_0_count: '$VM_0_COUNT'
              vm_0_flavor: '$VM_0_FLAVOR'
              vm_0_image: '$VM_0_IMAGE'
              vm_1_count: '$VM_1_COUNT'
              vm_1_flavor: '$VM_1_FLAVOR'
              vm_1_image: '$VM_1_IMAGE'
              vm_2_count: '$VM_2_COUNT'
              vm_2_flavor: '$VM_2_FLAVOR'
              vm_2_image: '$VM_2_IMAGE'
              vm_3_count: '$VM_2_COUNT'
              vm_3_flavor: '$VM_2_FLAVOR'
              vm_3_image: '$VM_2_IMAGE'
