---
################
# Stack 2 Type #
################

# The parameter and builder macros are meant to be used together. Job templates
# that want to use the Stack 2 Type must declare both the parameter and builder
# component.

- parameter:
    name: integration-stack-2-type
    parameters:
      - string:
          name: ODL_SYSTEM_COUNT
          default: '{odl_system_count}'
          description: 'Number of OpenDaylight controllers to spawn'
      - string:
          name: ODL_SYSTEM_FLAVOR
          default: '{odl_system_flavor}'
          description: 'VM flavor to use for the ODL system'
      - string:
          name: ODL_SYSTEM_IMAGE
          default: '{odl_system_image}'
          description: 'VM image to use for the ODL system'
      - string:
          name: TOOLS_SYSTEM_COUNT
          default: '{tools_system_count}'
          description: 'Number of tools systems to spawn'
      - string:
          name: TOOLS_SYSTEM_FLAVOR
          default: '{tools_system_flavor}'
          description: 'VM flavor to use for the tools system'
      - string:
          name: TOOLS_SYSTEM_IMAGE
          default: '{tools_system_image}'
          description: 'VM image to use for the tools system'

- builder:
    name: integration-stack-2-type
    builders:
      - lf-stack-create:
          openstack-cloud: '{openstack-cloud}'
          openstack-heat-template: '{openstack-heat-template}'
          openstack-heat-template-dir: '{openstack-heat-template-dir}'
          openstack-heat-parameters: |
              vm_0_count: '$ODL_SYSTEM_COUNT'
              vm_0_flavor: '$ODL_SYSTEM_FLAVOR'
              vm_0_image: '$ODL_SYSTEM_IMAGE'
              vm_1_count: '$TOOLS_SYSTEM_COUNT'
              vm_1_flavor: '$TOOLS_SYSTEM_FLAVOR'
              vm_1_image: '$TOOLS_SYSTEM_IMAGE'

################
# Stack 3 Type #
################

# The parameter and builder macros are meant to be used together. Job templates
# that want to use the Stack 3 Type must declare both the parameter and builder
# component.

- parameter:
    name: integration-stack-3-type
    parameters:
      - string:
          name: VM_0_COUNT
          default: '{vm_0_count}'
          description: 'Number of systems to spawn for vm 0'
      - string:
          name: VM_0_FLAVOR
          default: '{vm_0_flavor}'
          description: 'VM flavor to use for vm 0'
      - string:
          name: VM_0_IMAGE
          default: '{vm_0_image}'
          description: 'VM image to use for vm 0'
      - string:
          name: VM_1_COUNT
          default: '{vm_1_count}'
          description: 'Number of systems to spawn for vm 1'
      - string:
          name: VM_1_FLAVOR
          default: '{vm_1_flavor}'
          description: 'VM flavor to use for vm 1'
      - string:
          name: VM_1_IMAGE
          default: '{vm_1_image}'
          description: 'VM image to use for vm 1'
      - string:
          name: VM_2_COUNT
          default: '{vm_2_count}'
          description: 'Number of compute 1 systems to spawn'
      - string:
          name: VM_2_FLAVOR
          default: '{vm_2_flavor}'
          description: 'VM flavor to use for the compute 1 system'
      - string:
          name: VM_2_IMAGE
          default: '{vm_2_image}'
          description: 'VM image to use for the compute 1 system'

- builder:
    name: integration-stack-3-type
    builders:
      - lf-stack-create:
          openstack-cloud: '{openstack-cloud}'
          openstack-heat-template: '{openstack-heat-template}'
          openstack-heat-template-dir: '{openstack-heat-template-dir}'
          openstack-heat-parameters: |
              vm_0_count: '$VM_0_COUNT'
              vm_0_flavor: '$VM_0_FLAVOR'
              vm_0_image: '$VM_0_IMAGE'
              vm_1_count: '$VM_1_COUNT'
              vm_1_flavor: '$VM_1_FLAVOR'
              vm_1_image: '$VM_1_IMAGE'
              vm_2_count: '$VM_2_COUNT'
              vm_2_flavor: '$VM_2_FLAVOR'
              vm_2_image: '$VM_2_IMAGE'

################
# Stack 4 Type #
################

# The parameter and builder macros are meant to be used together. Job templates
# that want to use the Stack 4 Type must declare both the parameter and builder
# component.

- parameter:
    name: integration-stack-4-type
    parameters:
      - string:
          name: ODL_SYSTEM_COUNT
          default: '{odl_system_count}'
          description: 'Number of OpenDaylight controllers to spawn'
      - string:
          name: ODL_SYSTEM_FLAVOR
          default: '{odl_system_flavor}'
          description: 'VM flavor to use for the ODL system'
      - string:
          name: ODL_SYSTEM_IMAGE
          default: '{odl_system_image}'
          description: 'VM image to use for the ODL system'
      - string:
          name: OPENSTACK_SYSTEM_COUNT
          default: '{openstack_system_count}'
          description: 'Number of openstack systems to spawn'
      - string:
          name: OPENSTACK_SYSTEM_FLAVOR
          default: '{openstack_system_flavor}'
          description: 'VM flavor to use for the openstack system'
      - string:
          name: OPENSTACK_SYSTEM_IMAGE
          default: '{openstack_system_image}'
          description: 'VM image to use for the openstack system'
      - string:
          name: OPENSTACK_SYSTEM2_COUNT
          default: '{openstack_system2_count}'
          description: 'Number of openstack systems to spawn'
      - string:
          name: OPENSTACK_SYSTEM2_FLAVOR
          default: '{openstack_system2_flavor}'
          description: 'VM flavor to use for the openstack system'
      - string:
          name: OPENSTACK_SYSTEM2_IMAGE
          default: '{openstack_system2_image}'
          description: 'VM image to use for the openstack system'
      - string:
          name: TOOLS_SYSTEM_COUNT
          default: '{tools_system_count}'
          description: 'Number of tools systems to spawn'
      - string:
          name: TOOLS_SYSTEM_FLAVOR
          default: '{tools_system_flavor}'
          description: 'VM flavor to use for the tools system'
      - string:
          name: TOOLS_SYSTEM_IMAGE
          default: '{tools_system_image}'
          description: 'VM image to use for the tools system'

- builder:
    name: integration-stack-4-type
    builders:
      - lf-stack-create:
          openstack-cloud: '{openstack-cloud}'
          openstack-heat-template: '{openstack-heat-template}'
          openstack-heat-template-dir: '{openstack-heat-template-dir}'
          openstack-heat-parameters: |
              vm_0_count: '$ODL_SYSTEM_COUNT'
              vm_0_flavor: '$ODL_SYSTEM_FLAVOR'
              vm_0_image: '$ODL_SYSTEM_IMAGE'
              vm_1_count: '$OPENSTACK_SYSTEM_COUNT'
              vm_1_flavor: '$OPENSTACK_SYSTEM_FLAVOR'
              vm_1_flavor: '$OPENSTACK_SYSTEM_IMAGE'
              vm_2_count: '$OPENSTACK_SYSTEM2_COUNT'
              vm_2_flavor: '$OPENSTACK_SYSTEM2_FLAVOR'
              vm_2_flavor: '$OPENSTACK_SYSTEM2_IMAGE'
              vm_3_count: '$TOOLS_SYSTEM_COUNT'
              vm_3_flavor: '$TOOLS_SYSTEM_FLAVOR'
              vm_3_image: '$TOOLS_SYSTEM_IMAGE'
