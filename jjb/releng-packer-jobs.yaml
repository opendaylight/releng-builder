---
- project:
    name: packer-packer-verify-jobs
    jobs:
      - gerrit-packer-verify

    project: releng/builder
    project-name: builder
    build-node: centos7-builder-2c-1g

- project:
    name: packer-builder-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 90
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: builder
    update-cloud-image: true

- project:
    name: packer-devstack-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 90
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: devstack
    update-cloud-image: true

- project:
    name: packer-devstack-pre-pip-queens-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 75
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: devstack-pre-pip-queens
    update-cloud-image: true

- project:
    name: packer-devstack-pre-pip-rocky-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 75
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: devstack-pre-pip-rocky
    update-cloud-image: true

- project:
    name: packer-devstack-pre-pip-stein-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 75
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: devstack-pre-pip-stein
    update-cloud-image: true

- project:
    name: packer-docker-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 60
    cron: '00 H 1 * *'

    platforms:
      - centos-7
      - ubuntu-16.04
    templates: docker
    update-cloud-image: true

- project:
    name: packer-gbp-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 90
    cron: '00 H 1 * *'

    platforms:
      - ubuntu-16.04
      - ubuntu-18.04:
          disable-job: true
    templates: gbp
    update-cloud-image: true

- project:
    name: packer-mininet-ovs-2.5-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 60
    cron: '00 H 1 * *'

    platforms:
      - ubuntu-16.04
      - ubuntu-18.04:
          disable-job: true
    templates: mininet-ovs-2.5
    update-cloud-image: true

- project:
    name: packer-mininet-ovs-2.6-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 75
    cron: '00 H 1 * *'

    platforms:
      - ubuntu-16.04
      - ubuntu-18.04:
          disable-job: true
    templates: mininet-ovs-2.6
    update-cloud-image: true

- project:
    name: packer-mininet-ovs-2.8-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 90
    cron: '00 H 1 * *'

    platforms:
      - ubuntu-16.04
      - ubuntu-18.04:
          disable-job: true
    templates: mininet-ovs-2.8
    update-cloud-image: true

- project:
    name: packer-robot-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 60
    cron: '00 H 1 * *'

    platforms: centos-7
    templates: robot
    update-cloud-image: true

- project:
    name: packer-kubernetes-jobs
    jobs:
      - gerrit-packer-merge

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'

    build-node: centos7-builder-2c-1g
    build-timeout: 90
    cron: '00 H 1 * *'

    platforms:
      - ubuntu-16.04
      - ubuntu-18.04:
          disable-job: true
    templates: kubernetes
    update-cloud-image: true

- project:
    name: openstack-update-cloud-images
    jobs:
      - gerrit-openstack-update-cloud-image

    project: releng/builder
    project-name: builder
    branch: master
    archive-artifacts: '**/*.log'
    jenkins-ssh-credential: 'opendaylight-jenkins-ssh'

    build-node: centos7-builder-2c-1g
    # update-cloud-image: true
    build-timeout: 10

    gerrit-user: "jenkins-$SILO"
    gerrit-host: "git.opendaylight.org"
    gerrit-topic: "update-cloud-image"
    reviewers-email: "jenkins-releng@opendaylight.org"
