---
- project:
    name: vtn-manager-csit-openstack-integration
    jobs:
      - inttest-csit-openstack

    # The project name
    project: 'vtn'

    topology:
      - 1node:
          openstack_system_count: 1
          odl_system_count: 1
          enable-haproxy: 'no'
          install-features: 'odl-vtn-manager-neutron,odl-restconf-all'

    testplan: '{project}-{topology}-openstack.txt'

    # The project name
    functionality: 'neutron'

    stream:
      - oxygen:
          branch: 'master'
      - nitrogen:
          branch: 'stable/nitrogen'
      - carbon:
          branch: 'stable/carbon'
          karaf-version: karaf3

    openstack:
      - ocata:
          openstack-branch: 'stable/ocata'
          odl-ml2-branch: 'stable/ocata'
          openstack_system_image: '{openstack_system_image_ocata}'
          openstack_system2_image: '{openstack_system_image_ocata}'
          enable-openstack-services: 'n-cpu,placement-api,placement-client,tempest'
          enable-openstack-network-services: '{openstack_legacy_default_network_services}'
          odl-ml2-port-binding: 'network-topology'
      - pike:
          openstack-branch: 'stable/pike'
          odl-ml2-branch: 'stable/pike'
          openstack_system_image: '{openstack_system_image_pike}'
          openstack_system2_image: '{openstack_system_image_pike}'
          enable-openstack-services: 'n-cpu,placement-api,placement-client,tempest'
          enable-openstack-network-services: '{openstack_legacy_default_network_services}'
          odl-ml2-port-binding: 'legacy-port-binding'

    odl-enable-l3: 'no'
    public-bridge: 'br-ex'
    disable-openstack-services: 'n-net,q-l3'
    tenant-network-type: 'local'
    odl_system_flavor: v1-performance-8
    openstack_system_flavor: v1-performance-8
    odl-ml2-driver-version: 'v2'
