{
  "comments": [
    {
      "key": {
        "uuid": "9a245df4_69877c10",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 2046
      },
      "writtenOn": "2017-10-04T08:28:03Z",
      "side": 1,
      "message": "Current Oxygen snapshots using 1.2.0 is just a temporary state before 2.0.0 is released (and downstream patches created to fix incompatibilities).\nMaster branch currently builds 2.0.0-SNAPSHOT versions.",
      "range": {
        "startLine": 9,
        "startChar": 35,
        "endLine": 9,
        "endChar": 49
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_8982b0fe",
        "filename": "jjb/yangtools/yangtools.yaml",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 2046
      },
      "writtenOn": "2017-10-04T08:28:03Z",
      "side": 1,
      "message": "I believe Yangtools prefers streams to be named after versions, so this should be \u0027v2.0.x\u0027.\nThe reason is that when bumping master branch to 2.1.x (or 3.0.x) and cutting branch v2.0.x, we want any downstream jobs to follow that version, not the new master.",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 18
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_29090496",
        "filename": "jjb/yangtools/yangtools.yaml",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 649
      },
      "writtenOn": "2017-10-04T08:58:05Z",
      "side": 1,
      "message": "what does the stream name affect?\n\n\u0027follow\u0027 is different in the sense that we do not want downstreams to track our -SNAPSHOTs, just releases (just like odlparent), hence stream name should not matter that much.\n\nGiven odlparent release cycle, it is currently not clear whether we will integrate 2.0.0 with odlparent-3.0.0 or will end up creating an interim 1.3.x release.",
      "parentUuid": "9a245df4_8982b0fe",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 18
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_24348bdd",
        "filename": "jjb/yangtools/yangtools.yaml",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 2046
      },
      "writtenOn": "2017-10-04T11:31:14Z",
      "side": 1,
      "message": "\u003e \u0027follow\u0027 is different\n\nCurrently, Yangtools does not have any distribution-check or csit job that would help validate the version-to-be-released works correctly, but in some future we might add such jobs. \n\nstream\u003dmaster is very unfriendly to branch cuts and version bumps. I prefer to chose the correct value right now, so we lose less history later.\n\n\u003e we do not want downstreams to track our -SNAPSHOTs\n\nTODO for me: Add a check for distribution-check job to fail if Yangtools snapshots are detected in Oxygen.\n\n\u003e an interim 1.3.x release\n\nWould that be released from master branch, or would you cut v1.3.x branch for that?",
      "parentUuid": "9a245df4_29090496",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 18
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_d8fe226b",
        "filename": "jjb/yangtools/yangtools.yaml",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 649
      },
      "writtenOn": "2017-10-09T14:10:25Z",
      "side": 1,
      "message": "v1.3.x branch would be cut from current contents of v1.2.x branch and would carry just odlparent-3.0.0.",
      "parentUuid": "9a245df4_24348bdd",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 18
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_38749efc",
        "filename": "jjb/yangtools/yangtools.yaml",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 2046
      },
      "writtenOn": "2017-10-09T14:27:54Z",
      "side": 1,
      "message": "After discussing with Robert, I think we have a consensus.\n\nFirst, release-based projects have different usage for stream than snapshot-based projects. Relative to a release-based project, its upstream is only consumed via released artifacts, so stream triggers are not needed. Similarly, its downstream consumes only released versions, so once again, triggering should happen by version bump, no by snapshot upload.\n\nSecond, stability branches are different from master branch for release-based projects. The difference is in that master branch contains incompatible changes which have never been released. Even the version is not decided yet. Therefore downstream cannot be ready to integrate with master. Some semi-automated testing similar to multipatch is possible, but that would need to use specific downstream patches, making the distribution different from the usual simultaneous stream builds.\nOn the other hand, stability branches will exhibit only minor bumps, downstream should be patch-able automatically, and we can assign a stream name based on version. Note that there might be multiple simultaneous releases consuming the same minor bump.\n\nWith that in mind, I now agree with \u0027master\u0027 as a special stream name, signifying this stream has no regular {project}-integration-master, no {project}-distribution-check-master, no CSIT jobs. Before creating those, Releng/Builder should require the project to cut a stability branch.\n\nIn long term, CLM and sonar jobs should run on the stability branches only, but it is OK to keep them running on master for now.",
      "parentUuid": "9a245df4_d8fe226b",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 18
      },
      "revId": "174ac200d6592b5a9d89d8b8630e1bee85758199",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}