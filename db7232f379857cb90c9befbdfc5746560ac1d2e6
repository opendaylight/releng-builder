{
  "comments": [
    {
      "key": {
        "uuid": "ba1f61a0_5ac5da3a",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 2759
      },
      "writtenOn": "2017-08-15T16:09:13Z",
      "side": 1,
      "message": "What about here?",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_d0ac09a3",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 6258
      },
      "writtenOn": "2017-08-16T00:14:05Z",
      "side": 1,
      "message": "We can\u0027t remove these yet, since the dependencies are required for other jobs. I\u0027ll have to get to this when we consolidate the jobs.",
      "parentUuid": "ba1f61a0_5ac5da3a",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_9d0a9a1f",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 46
      },
      "writtenOn": "2017-08-18T21:26:01Z",
      "side": 1,
      "message": "I\u0027d rather not consolidate all the jobs since this will significantly increase the build time.",
      "parentUuid": "ba1f61a0_d0ac09a3",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_dd3a52cc",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 2759
      },
      "writtenOn": "2017-08-18T21:35:04Z",
      "side": 1,
      "message": "According to the durations here https://jenkins.opendaylight.org/releng/view/opflex/\n\nThe dependency jobs all run in \u003c 30 seconds with the exception of openvswitch with takes between 2 -3 minutes to run. The verify job which I assume uses the dependencies takes between 12 - 15 minutes to run. Consolidating them will increase the job build time probably by 5 minutes at the most but probably more likely ~3 minutes.\n\nIt takes longer for Jenkins to spin up VMs for each of these jobs imo.\n\nWe can potentially increase the speed by baking the dependencies into the vms too as an alternative method in which case the vms that spin up will just have the dependencies. No need to build them.",
      "parentUuid": "ba1f61a0_9d0a9a1f",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_fd5d9616",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 46
      },
      "writtenOn": "2017-08-18T22:05:14Z",
      "side": 1,
      "message": "OK so a 50% increase in the build times... for what purpose?  I see no advantage to consolidating them.  Note that the dependencies jobs run rarely, so time to spin up VMs doesn\u0027t matter since it\u0027s amortized over many dozens of verify/merge builds.\n\nWe could consolidate all the dependencies into a single dependencies job without hurting much, though I\u0027m still failing to see why.\n\nIf you\u0027re worried about disk space we can just set jenkins to only keep the most recent artifacts or the last 2 or similar.",
      "parentUuid": "ba1f61a0_dd3a52cc",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_98ac68a2",
        "filename": "jjb/opflex/opflex-custom.yaml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 2759
      },
      "writtenOn": "2017-08-19T17:14:22Z",
      "side": 1,
      "message": "We\u0027re trying to discourage the use of Jenkins as an archive system as artifacts should be pushed to Nexus. Additionally LFIT will not longer be increasing disk size on Jenkins if we run out of disk again so we\u0027re trying to encourage projects to push things to Nexus instead of Jenkins as the Nexus server has significantly more disk space allocated to it and is designed to be a storage system.\n\nI was hoping OpFlex would be ok with building the dependencies as part of their builds considering most of the dependencies appear to take only 10s of seconds of build time and that the time it takes to spin up a VM for a 20 second build is significantly more ~2-5 minutes we would save time and resources here. I believe these are actually being archived to our logs server which is supposed to be only for logs but considering these are small I\u0027m willing to make an exception here.\n\nOpenVSwitch appears to be the only dependency that takes a significant amount of build time so if we bake it into the image it would likely speed up your build time a little because you won\u0027t have to spend cycles downloading the compiled artifact.\n\nIf this is going to be a contentious issue then I\u0027m ok with leaving things the way things are. Admittedly OpFlex is a very small project and I\u0027m not worried about OpFlex\u0027s builds requiring us to increase Jenkins disks space.",
      "parentUuid": "ba1f61a0_fd5d9616",
      "revId": "db7232f379857cb90c9befbdfc5746560ac1d2e6",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}